#
# Note that the CALATK/CMakeLists.txt file configures this file
#
#               Scripts/CTestCustom.cmake.in
#
# to this file
#
#       ${CALATK_BINARY_DIR}/CTestCustom.cmake
#
#----------------------------------------------------------------------
#
# For further details regarding this file,
# see http://www.cmake.org/Wiki/CMake_Testing_With_CTest#Customizing_CTest
#
# and
# http://www.kitware.com/blog/home/post/27
#
#----------------------------------------------------------------------

SET(CTEST_CUSTOM_MAXIMUM_NUMBER_OF_WARNINGS 199)
SET(CTEST_CUSTOM_MAXIMUM_NUMBER_OF_ERRORS 50)

SET(CTEST_CUSTOM_MEMCHECK_IGNORE
  ${CTEST_CUSTOM_MEMCHECK_IGNORE}
  # TCLAP/Slicer errors.
  Slicer3CLPExample1
  )

SET(CTEST_MEMORYCHECK_SUPPRESSIONS_FILE
  @CALATK_SOURCE_DIR@/Scripts/Valgrind/CALATKValgrind.supp
  )

SET(CTEST_CUSTOM_COVERAGE_EXCLUDE
 ${CTEST_CUSTOM_COVERAGE_EXCLUDE}
 )

SET(CTEST_CUSTOM_WARNING_EXCEPTION
  ${CTEST_CUSTOM_WARNING_EXCEPTION}

  # Ignore clang's summary warning, assuming prior text has matched some
  # other warning expression:
  "[0-9,]+ warnings? generated."
  )

IF(APPLE)
SET(CTEST_CUSTOM_WARNING_EXCEPTION
  ${CTEST_CUSTOM_WARNING_EXCEPTION}
  "warning -.: directory name .* does not exist"
  "ld.*warning.*duplicate dylib.*"
  )
ENDIF(APPLE)
